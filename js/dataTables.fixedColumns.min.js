/*! FixedColumns 3.2.0
 * Â©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}}}(function(e,c,a,f){var d=e.fn.dataTable;var b=function(i,k){var h=this;if(!(this instanceof b)){alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");return}if(k===f||k===true){k={}}var g=e.fn.dataTable.camelToHungarian;if(g){g(b.defaults,b.defaults,true);g(b.defaults,k)}var j=new e.fn.dataTable.Api(i).settings()[0];this.s={dt:j,iTableColumns:j.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};if(j._oFixedColumns){throw"FixedColumns already initialised on this table"}j._oFixedColumns=this;if(!j._bInitComplete){j.oApi._fnCallbackReg(j,"aoInitComplete",function(){h._fnConstruct(k)},"FixedColumns")}else{this._fnConstruct(k)}};e.extend(b.prototype,{fnUpdate:function(){this._fnDraw(true)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(g){delete g._DTTC_iHeight;g.style.height="auto"},fnSetRowHeight:function(h,g){h.style.height=g+"px"},fnGetPosition:function(h){var g;var i=this.s.dt.oInstance;if(!e(h).parents(".DTFC_Cloned").length){return i.fnGetPosition(h)}else{if(h.nodeName.toLowerCase()==="tr"){g=e(h).index();return i.fnGetPosition(e("tr",this.s.dt.nTBody)[g])}else{var k=e(h).index();g=e(h.parentNode).index();var j=i.fnGetPosition(e("tr",this.s.dt.nTBody)[g]);return[j,k,i.oApi._fnVisibleToColumnIndex(this.s.dt,k)]}}},_fnConstruct:function(o){var l,h,g,n=this;if(typeof this.s.dt.oInstance.fnVersionCheck!="function"||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==true){alert("FixedColumns "+b.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");return}if(this.s.dt.oScroll.sX===""){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");return}this.s=e.extend(true,this.s,b.defaults,o);var k=this.s.dt.oClasses;this.dom.grid.dt=e(this.s.dt.nTable).parents("div."+k.sScrollWrapper)[0];this.dom.scroller=e("div."+k.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();var m;e(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){m="main"}).on("scroll.DTFC",function(i){if(!m&&i.originalEvent){m="main"}if(m==="main"){if(n.s.iLeftColumns>0){n.dom.grid.left.liner.scrollTop=n.dom.scroller.scrollTop}if(n.s.iRightColumns>0){n.dom.grid.right.liner.scrollTop=n.dom.scroller.scrollTop}}});var j="onwheel" in a.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";if(n.s.iLeftColumns>0){e(n.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){m="left"}).on("scroll.DTFC",function(i){if(!m&&i.originalEvent){m="left"}if(m==="left"){n.dom.scroller.scrollTop=n.dom.grid.left.liner.scrollTop;if(n.s.iRightColumns>0){n.dom.grid.right.liner.scrollTop=n.dom.grid.left.liner.scrollTop}}}).on(j,function(r){var i=r.type==="wheel"?-r.originalEvent.deltaX:r.originalEvent.wheelDeltaX;n.dom.scroller.scrollLeft-=i})}if(n.s.iRightColumns>0){e(n.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){m="right"}).on("scroll.DTFC",function(i){if(!m&&i.originalEvent){m="right"}if(m==="right"){n.dom.scroller.scrollTop=n.dom.grid.right.liner.scrollTop;if(n.s.iLeftColumns>0){n.dom.grid.left.liner.scrollTop=n.dom.grid.right.liner.scrollTop}}}).on(j,function(r){var i=r.type==="wheel"?-r.originalEvent.deltaX:r.originalEvent.wheelDeltaX;n.dom.scroller.scrollLeft-=i})}e(c).on("resize.DTFC",function(){n._fnGridLayout.call(n)});var q=true;var p=e(this.s.dt.nTable);p.on("draw.dt.DTFC",function(){n._fnDraw.call(n,q);q=false}).on("column-sizing.dt.DTFC",function(){n._fnColCalc();n._fnGridLayout(n)}).on("column-visibility.dt.DTFC",function(u,s,r,t,i){if(i===f||i){n._fnColCalc();n._fnGridLayout(n);n._fnDraw(true)}}).on("destroy.dt.DTFC",function(){p.off("column-sizing.dt.DTFC column-visibility.dt.DTFC destroy.dt.DTFC draw.dt.DTFC");e(n.dom.scroller).off("mouseover.DTFC touchstart.DTFC scroll.DTFC");e(c).off("resize.DTFC");e(n.dom.grid.left.liner).off("mouseover.DTFC touchstart.DTFC scroll.DTFC "+j);e(n.dom.grid.left.wrapper).remove();e(n.dom.grid.right.liner).off("mouseover.DTFC touchstart.DTFC scroll.DTFC "+j);e(n.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(false)},_fnColCalc:function(){var i=this;var h=0;var g=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];e.each(this.s.dt.aoColumns,function(l,k){var m=e(k.nTh);var j;if(!m.filter(":visible").length){i.s.aiInnerWidths.push(0);i.s.aiOuterWidths.push(0)}else{var n=m.outerWidth();if(i.s.aiOuterWidths.length===0){j=e(i.s.dt.nTable).css("border-left-width");n+=typeof j==="string"?1:parseInt(j,10)}if(i.s.aiOuterWidths.length===i.s.dt.aoColumns.length-1){j=e(i.s.dt.nTable).css("border-right-width");n+=typeof j==="string"?1:parseInt(j,10)}i.s.aiOuterWidths.push(n);i.s.aiInnerWidths.push(m.width());if(l<i.s.iLeftColumns){h+=n}if(i.s.iTableColumns-i.s.iRightColumns<=l){g+=n}}});this.s.iLeftWidth=h;this.s.iRightWidth=g},_fnGridSetup:function(){var k=this;var g=this._fnDTOverflow();var l;this.dom.body=this.s.dt.nTable;this.dom.header=this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var i=e('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0];var j=i.childNodes[0];var h=i.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(i,this.dom.grid.dt);i.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=i;if(this.s.iLeftColumns>0){this.dom.grid.left.wrapper=j;this.dom.grid.left.head=j.childNodes[0];this.dom.grid.left.body=j.childNodes[1];this.dom.grid.left.liner=e("div.DTFC_LeftBodyLiner",i)[0];i.appendChild(j)}if(this.s.iRightColumns>0){this.dom.grid.right.wrapper=h;this.dom.grid.right.head=h.childNodes[0];this.dom.grid.right.body=h.childNodes[1];this.dom.grid.right.liner=e("div.DTFC_RightBodyLiner",i)[0];l=e("div.DTFC_RightHeadBlocker",i)[0];l.style.width=g.bar+"px";l.style.right=-g.bar+"px";this.dom.grid.right.headBlock=l;l=e("div.DTFC_RightFootBlocker",i)[0];l.style.width=g.bar+"px";l.style.right=-g.bar+"px";this.dom.grid.right.footBlock=l;i.appendChild(h)}if(this.s.dt.nTFoot){this.dom.footer=this.s.dt.nTFoot.parentNode;if(this.s.iLeftColumns>0){this.dom.grid.left.foot=j.childNodes[2]}if(this.s.iRightColumns>0){this.dom.grid.right.foot=h.childNodes[2]}}},_fnGridLayout:function(){var l=this.dom.grid;var i=e(l.wrapper).width();var k=e(this.s.dt.nTable.parentNode).outerHeight()+16;var j=e(this.s.dt.nTable.parentNode.parentNode).outerHeight()+16;var o=this._fnDTOverflow();var m=this.s.iLeftWidth,h=this.s.iRightWidth,n;var g=function(q,p){if(!o.bar){q.style.width=(p+20)+"px";q.style.paddingRight="20px";q.style.boxSizing="border-box"}else{q.style.width=(p+o.bar)+"px"}};if(o.x){k-=o.bar}l.wrapper.style.height=j+"px";if(this.s.iLeftColumns>0){l.left.wrapper.style.width=m+"px";l.left.wrapper.style.height="1px";l.left.body.style.height=k+"px";if(l.left.foot){l.left.foot.style.top=(o.x?o.bar:0)+"px"}g(l.left.liner,m);l.left.liner.style.height=k+"px"}if(this.s.iRightColumns>0){n=i-h;if(o.y){n-=o.bar}l.right.wrapper.style.width=h+"px";l.right.wrapper.style.left=n+"px";l.right.wrapper.style.height="1px";l.right.body.style.height=k+"px";if(l.right.foot){l.right.foot.style.top=(o.x?o.bar:0)+"px"}g(l.right.liner,h);l.right.liner.style.height=k+"px";l.right.headBlock.style.display=o.y?"block":"none";l.right.footBlock.style.display=o.y?"block":"none"}},_fnDTOverflow:function(){var i=this.s.dt.nTable;var g=i.parentNode;var h={x:false,y:false,bar:this.s.dt.oScroll.iBarWidth};if(i.offsetWidth>g.clientWidth){h.x=true}if(i.offsetHeight>g.clientHeight){h.y=true}return h},_fnDraw:function(g){this._fnGridLayout();this._fnCloneLeft(g);this._fnCloneRight(g);if(this.s.fnDrawCallback!==null){this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right)}e(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(h){if(this.s.iRightColumns<=0){return}var k=this,g,l,j=[];for(g=this.s.iTableColumns-this.s.iRightColumns;g<this.s.iTableColumns;g++){if(this.s.dt.aoColumns[g].bVisible){j.push(g)}}this._fnClone(this.dom.clone.right,this.dom.grid.right,j,h)},_fnCloneLeft:function(h){if(this.s.iLeftColumns<=0){return}var k=this,g,l,j=[];for(g=0;g<this.s.iLeftColumns;g++){if(this.s.dt.aoColumns[g].bVisible){j.push(g)}}this._fnClone(this.dom.clone.left,this.dom.grid.left,j,h)},_fnCopyLayout:function(r,t,u){var q=[];var o=[];var k=[];for(var m=0,h=r.length;m<h;m++){var p=[];p.nTr=e(r[m].nTr).clone(u,false)[0];for(var l=0,s=this.s.iTableColumns;l<s;l++){if(e.inArray(l,t)===-1){continue}var n=e.inArray(r[m][l].cell,k);if(n===-1){var g=e(r[m][l].cell).clone(u,false)[0];o.push(g);k.push(r[m][l].cell);p.push({cell:g,unique:r[m][l].unique})}else{p.push({cell:o[n],unique:r[m][l].unique})}}q.push(p)}return q},_fnClone:function(y,x,k,g){var o=this,A,w,z,E,v,m,B,t,p,l,q,F,s=this.s.dt;if(g){e(y.header).remove();y.header=e(this.dom.header).clone(true,false)[0];y.header.className+=" DTFC_Cloned";y.header.style.width="100%";x.head.appendChild(y.header);l=this._fnCopyLayout(s.aoHeader,k,true);q=e(">thead",y.header);q.empty();for(A=0,w=l.length;A<w;A++){q[0].appendChild(l[A].nTr)}s.oApi._fnDrawHead(s,l,true)}else{l=this._fnCopyLayout(s.aoHeader,k,false);F=[];s.oApi._fnDetectHeader(F,e(">thead",y.header)[0]);for(A=0,w=l.length;A<w;A++){for(z=0,E=l[A].length;z<E;z++){F[A][z].cell.className=l[A][z].cell.className;e("span.DataTables_sort_icon",F[A][z].cell).each(function(){this.className=e("span.DataTables_sort_icon",l[A][z].cell)[0].className})}}}this._fnEqualiseHeights("thead",this.dom.header,y.header);if(this.s.sHeightMatch=="auto"){e(">tbody>tr",o.dom.body).css("height","auto")}if(y.body!==null){e(y.body).remove();y.body=null}y.body=e(this.dom.body).clone(true)[0];y.body.className+=" DTFC_Cloned";y.body.style.paddingBottom=s.oScroll.iBarWidth+"px";y.body.style.marginBottom=(s.oScroll.iBarWidth*2)+"px";if(y.body.getAttribute("id")!==null){y.body.removeAttribute("id")}e(">thead>tr",y.body).empty();e(">tfoot",y.body).remove();var r=e("tbody",y.body)[0];e(r).empty();if(s.aiDisplay.length>0){var n=e(">thead>tr",y.body)[0];for(p=0;p<k.length;p++){B=k[p];t=e(s.aoColumns[B].nTh).clone(true)[0];t.innerHTML="";var u=t.style;u.paddingTop="0";u.paddingBottom="0";u.borderTopWidth="0";u.borderBottomWidth="0";u.height=0;u.width=o.s.aiInnerWidths[B]+"px";n.appendChild(t)}e(">tbody>tr",o.dom.body).each(function(I){var J=this.cloneNode(false);J.removeAttribute("id");var j=o.s.dt.oFeatures.bServerSide===false?o.s.dt.aiDisplay[o.s.dt._iDisplayStart+I]:I;var H=o.s.dt.aoData[j].anCells||e(this).children("td, th");for(p=0;p<k.length;p++){B=k[p];if(H.length>0){t=e(H[B]).clone(true,true)[0];J.appendChild(t)}}r.appendChild(J)})}else{e(">tbody>tr",o.dom.body).each(function(i){t=this.cloneNode(true);t.className+=" DTFC_NoData";e("td",t).html("");r.appendChild(t)})}y.body.style.width="100%";y.body.style.margin="0";y.body.style.padding="0";if(s.oScroller!==f){var G=s.oScroller.dom.force;if(!x.forcer){x.forcer=G.cloneNode(true);x.liner.appendChild(x.forcer)}else{x.forcer.style.height=G.style.height}}x.liner.appendChild(y.body);this._fnEqualiseHeights("tbody",o.dom.body,y.body);if(s.nTFoot!==null){if(g){if(y.footer!==null){y.footer.parentNode.removeChild(y.footer)}y.footer=e(this.dom.footer).clone(true,true)[0];y.footer.className+=" DTFC_Cloned";y.footer.style.width="100%";x.foot.appendChild(y.footer);l=this._fnCopyLayout(s.aoFooter,k,true);var h=e(">tfoot",y.footer);h.empty();for(A=0,w=l.length;A<w;A++){h[0].appendChild(l[A].nTr)}s.oApi._fnDrawHead(s,l,true)}else{l=this._fnCopyLayout(s.aoFooter,k,false);var C=[];s.oApi._fnDetectHeader(C,e(">tfoot",y.footer)[0]);for(A=0,w=l.length;A<w;A++){for(z=0,E=l[A].length;z<E;z++){C[A][z].cell.className=l[A][z].cell.className}}}this._fnEqualiseHeights("tfoot",this.dom.footer,y.footer)}var D=s.oApi._fnGetUniqueThs(s,e(">thead",y.header)[0]);e(D).each(function(j){B=k[j];this.style.width=o.s.aiInnerWidths[B]+"px"});if(o.s.dt.nTFoot!==null){D=s.oApi._fnGetUniqueThs(s,e(">tfoot",y.footer)[0]);e(D).each(function(j){B=k[j];this.style.width=o.s.aiInnerWidths[B]+"px"})}},_fnGetTrNodes:function(h){var k=[];for(var j=0,g=h.childNodes.length;j<g;j++){if(h.childNodes[j].nodeName.toUpperCase()=="TR"){k.push(h.childNodes[j])}}return k},_fnEqualiseHeights:function(t,h,s){if(this.s.sHeightMatch=="none"&&t!=="thead"&&t!=="tfoot"){return}var p=this,m,j,g,l,x,w,o=h.getElementsByTagName(t)[0],q=s.getElementsByTagName(t)[0],k=e(">"+t+">tr:eq(0)",h).children(":first"),v=k.outerHeight()-k.height(),n=this._fnGetTrNodes(o),u=this._fnGetTrNodes(q),r=[];for(m=0,j=u.length;m<j;m++){x=n[m].offsetHeight;w=u[m].offsetHeight;g=w>x?w:x;if(this.s.sHeightMatch=="semiauto"){n[m]._DTTC_iHeight=g}r.push(g)}for(m=0,j=u.length;m<j;m++){u[m].style.height=r[m]+"px";n[m].style.height=r[m]+"px"}}});b.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"};b.version="3.2.0";d.Api.register("fixedColumns()",function(){return this});d.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(g){if(g._oFixedColumns){g._oFixedColumns.fnUpdate()}})});d.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(g){if(g._oFixedColumns){g._oFixedColumns.fnRedrawLayout()}})});d.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(h,g){if(h._oFixedColumns){h._oFixedColumns.fnRecalculateHeight(this.row(g).node())}})});d.Api.register("fixedColumns().rowIndex()",function(g){g=e(g);return g.parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[g.index()]:this.row(g).index()});d.Api.register("fixedColumns().cellIndex()",function(g){g=e(g);if(g.parents(".DTFC_Cloned").length){var i=g.parent().index();var k=this.rows({page:"current"}).indexes()[i];var j;if(g.parents(".DTFC_LeftWrapper").length){j=g.index()}else{var h=this.columns().flatten().length;j=h-this.context[0]._oFixedColumns.s.iRightColumns+g.index()}return{row:k,column:this.column.index("toData",j),columnVisible:j}}else{return this.cell(g).index()}});e(a).on("init.dt.fixedColumns",function(j,g){if(j.namespace!=="dt"){return}var k=g.oInit.fixedColumns;var i=d.defaults.fixedColumns;if(k||i){var h=e.extend({},k,i);if(k!==false){new b(g,h)}}});e.fn.dataTable.FixedColumns=b;e.fn.DataTable.FixedColumns=b;return b}));